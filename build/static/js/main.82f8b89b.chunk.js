(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(21)},15:function(e,t,a){},19:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(9),l=a.n(r),s=(a(15),a(17),a(2)),c=a(3),o=a(5),u=a(4),m=a(6),f=a(1),d=(a(19),"Subtitle Merger"),h="Mix two subtitles into one",b="Select two files...",p="col-xl-10 offset-1",v=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:p},i.a.createElement("button",{className:"btn btn-info btn-lg btn-400",onClick:this.props.onClick},this.props.names.join(" + ")," -> Merge"))}}]),t}(i.a.Component),g=a(7),w=a.n(g);var j=function(e,t){for(var a=w.a.fromSrt(e,!0),n=w.a.fromSrt(t,!0),i=a,r=a.length,l=n.length,s=0,c=[],o=0;o<r;++o){for(var u=s;u<l&&!(s>=l)&&!(n[u].startTime>a[o].startTime+2e3);++u){if(n[u].startTime>=a[o].startTime-200&&n[u].startTime<=a[o].startTime+200&&n[u].startTime<a[o].endTime){i[o].text+="<br/><i>"+n[u].text+"</i>",i[o].subtitle=n[u],s=++u;break}c.push(u),s=u+1}if(c.length){for(var m=0;m<c.length;++m)i[o].text+="<br/><i>"+n[c[m]].text+"</i>";c=[]}}return w.a.toSrt(i)};var O=function(e,t,a){var n,i,r=new FileReader,l=new FileReader;r.onload=function(e){if((n=e.target.result)&&i){var t=j(n,i);a(t)}},l.onload=function(e){if(i=e.target.result,n&&i){var t=j(n,i);a(t)}},r.readAsText(e),l.readAsText(t)},E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(f.a)(Object(f.a)(a))),a.convertFiles=a.convertFiles.bind(Object(f.a)(Object(f.a)(a))),a.state={file1:!1,file2:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e,t){console.log(t+" uploaded:",e),"file1"===t?this.setState({file1:e}):this.setState({file2:e})}},{key:"componentDidUpdate",value:function(){this.state.file1&&this.state.file2&&console.info("Both files added")}},{key:"convertFiles",value:function(){var e=this.state.file1[0],t=this.state.file2[0];O(e,t,this.props.onMerge)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:p},i.a.createElement("br",null),i.a.createElement("h6",{className:"text-center"},this.props.title)),i.a.createElement("br",null),i.a.createElement("div",{className:p},i.a.createElement("label",{htmlFor:"file1",className:"btn btn-outline-success btn-lg btn-400"},"main subtitle ",this.state.file1?this.state.file1[0].name:""),i.a.createElement("br",null),i.a.createElement("label",{htmlFor:"file2",className:"btn btn-outline-primary btn-lg btn-400"},"translation ",this.state.file2?this.state.file2[0].name:""),i.a.createElement("input",{type:"file",name:"file1",id:"file1",className:"far-away",onChange:function(t){return e.handleChange(t.target.files,"file1")}}),i.a.createElement("input",{type:"file",name:"file2",id:"file2",className:"far-away",onChange:function(t){return e.handleChange(t.target.files,"file2")}})),this.state.file1&&this.state.file2?i.a.createElement(v,{onClick:this.convertFiles,names:[this.state.file1[0].name,this.state.file2[0].name]}):null)}}]),t}(i.a.Component),y=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).selectText=e.selectText.bind(Object(f.a)(Object(f.a)(e))),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"selectText",value:function(){this.mergedTextarea.select()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:p},"merged subtitles",i.a.createElement("br",null),i.a.createElement("textarea",{id:"merged_textarea",className:"form-control",onClick:this.selectText,ref:function(t){return e.mergedTextarea=t},defaultValue:this.props.content,readOnly:!0,rows:30,style:{width:"100%"}})))}}]),t}(i.a.Component),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={content1:!1,content2:!1,rendered:!1},window.File&&window.FileReader&&window.FileList&&window.Blob?console.info("FileReader, File List, Blob and File: all supported"):alert("The File APIs are not fully supported in this browser."),a.processMergedSubtitles=a.processMergedSubtitles.bind(Object(f.a)(Object(f.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){document.title=d}},{key:"processMergedSubtitles",value:function(e){this.setState({merged:e})}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header header"},i.a.createElement("h2",{className:"text-center"},h)),i.a.createElement("div",{className:"container container-fluid"},i.a.createElement(E,{title:b,convertFiles:this.convertFiles,onMerge:this.processMergedSubtitles}),this.state.merged?i.a.createElement(y,{content:this.state.merged}):null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,2,1]]]);
//# sourceMappingURL=main.82f8b89b.chunk.js.map